Careers.jobs=function(){var t=!(!window.history||!history.pushState),e=!0,n=location.href,i=function(n,i,o){return t?(e=!1,Careers.GoogleAnalytics.ajaxPageview(n),void $.get(n,function(t){var a=$("<div/>").html(t),r=a.is("#jobdetailpage")?a:a.find("#jobdetailpage").length?a.find("#jobdetailpage"):t;$("#content").html(r).trigger("content:load"),document.title=$("span.page-title").text(),window.scrollTo(0,0),$("img.job-spinner").hide(),p(),C(),i?!e&&"object"==typeof o&&$.isNumeric(o.scrollTop)&&$(document).scrollTop(o.scrollTop):window.history.pushState({href:n},"",n)})):void(window.location.href=n)},o=null,r=function(){var t=$("div.confirmation");t.text().length&&(clearTimeout(o),t.fadeIn(function(){o=setTimeout(function(){t.fadeOut()},2500)}))},c=function(t,e){null!=t&&0!=t.length&&($("div.confirmation").hide().text(t),e&&r())},s=function(){function t(i){var o=$(document.body).hasClass("logged-in");if(!o)return!0;var a=$(this);return $(n).trigger("update:fav",[a.getJobId(),!a.isFav()]),$.ajax({dataType:"json",url:a.getHref(),cache:!1,success:function(t){$(n).trigger("update:fav",[a.getJobId(),t.isfav]),e(t.sidebar),c(t.msg,!0)},complete:function(){$(document).one("click",n,t)}}),i.preventDefault(),!0}function e(t){$("#favjobs-wrapper",".sidebar").html(t)}var n="a.fav-toggle";$(document).on("mouseenter",n,function(){var t=Careers._s($(this).hasClass("isfav")?"This job listing is now in your favorites. Click if youâ€™d like to remove.":"Click to add this job to your favorites.");$(this).attr("title",t)}),$(document).on("touchstart",n,function(){$(this).data("href",a.attr("href")).removeAttr("href")}),$(document).one("click",n,t),$(document).on("update:fav",function(t,e,n){var i=$(t.target);i.data("jobid")==e&&i.toggleClass("isfav",n).updateFavText()}),$.fn.getHref=function(){return $(this).data("href")||$(this).attr("href")},$.fn.getJobId=function(){return $(this).data("jobid")},$.fn.isFav=function(){return $(this).hasClass("isfav")},$.fn.updateFavText=function(){var t=$(this),e=Careers._s(t.is("#fav-share")?t.isFav()?"remove from favorites":"add to favorites":"");return $(this).text(e)}},l=function(){$(document).on("click",'.apply a[href^="http"], .apply a[href^="mailto"]',function(t){var e=$("span[outurl]",".jobdetail").attr("outurl"),n=$(this),i=n.attr("href"),o=e,a=n.attr("r");a&&(o+="?r="+a),Careers.GoogleAnalytics.sendEvent("apply","click","offsite"),0==i.indexOf("mailto:")?$.get(o):a&&a.length&&(document.location.href=o,t.preventDefault())})},u=function(){$(document).on("content:load",function(){var t=$("span.matching-profiles[data-url]","div.sidebar");if(t.length){var e=t.data("url");$.get(e,function(e){var n=$.processHTML(e);n.hide(),t.after(n),n.fadeIn("fast")})}})},d=function(){$(document).on("click","#embed span.link",function(){var t=$("#embed-body")[0].innerHTML.replace(/\\u003c/g,"<").replace(/^\s+|\s+$/g,"");$("#embed-textarea").focus(function(){var t=this;setTimeout(function(){t.select()},0)}).val(t),$(this).next().slideToggle(),$("#embed-textarea").select()})},f=function(){$("input[placeholder]").placeholder()},h=function(){$(document).on("click",".sidebar a.flag",function(){return $(this).nextAll("form.flag").toggle().find("textarea").focus(),!1}),$(document).on("click",".sidebar a.cancel",function(){return $(this).closest("form").hide(),!1}),$(document).on("submit",".sidebar form.flag",function(){var t={success:function(t,e,n,i){i.html(t)}};return $(this).ajaxSubmit(t),!1})},p=function(){function t(){var t=$("input#location"),e=t.isEmpty(),n=$("div.distance"),i=$("#slider");n.disableIf(e,Careers._s("Before setting the distance, please indicate a location above")),i.disableIf(e)}$&&$.ui&&$.ui.slider&&($(document).on("content:load",function(){var e=$("#slider"),n=$("div.searchfields"),i=$('input[name="range"]',n),o=parseInt(i.val()),a=$("span#rangelabel",n);if(e.length>0){var r={min:10,max:_RANGE_MAX,step:10,value:o,slide:function(t,e){i.val(e.value),a.html(e.value+" "+_UNITS_LABEL)}};e.slider(r)}t()}),$(document).on("change","input#allowsremote",t),$(document).on("keyup","input#location",t),$.fn.disableIf=function(t,e){return t&&e?$(this).attr("title",e):$(this).removeAttr("title"),$(this).prop("disabled",t).toggleClass("disabled",t),$(this).isSlider()&&$(this).slider(t?"disable":"enable"),$(this)},$.fn.isSlider=function(){return $(this).hasClass("ui-slider")})},m=function(){t&&0==location.pathname.indexOf(Careers.__url("/jobs"))&&"undefined"===$.type(window.isJobPostPreviewPage)&&($(document).on("click","#content a.job-link",function(t){if(t.metaKey||t.ctrlKey)return!0;window.history.replaceState({href:window.location.href,scrollTop:$(document).scrollTop()},"",window.location.href);var e=$(this).attr("href");return i(e),!1}),window.onpopstate=function(t){t.state&&t.state.href?i(t.state.href,!0,t.state):e||i(n,!0)})},v=function(){$(document).on("click",".apply .careers-btn",function(){var t=$("img#applyanalytic",".jobdetail"),e=t.data("analyticurl");t.attr("src",e)})},g=function(){$(document).on("change","select#url",function(){i($(this).val())})},b=function(){$(document).on("submit","form.search",function(){var t=$(this),e=t.attr("action"),n=t.serialize();$("#location",t).isEmpty()&&(n=n.replace(/&*(range|distanceUnits)=\w+/g,"")),n=n.replace(/\w+=&+/g,"").replace(/\w+=$/,"").replace(/&$/,"");var o=e+(n?"?"+n:"");i(o);var a=t.find("input:submit").prop("disabled",!0).val(Careers._s("Searching..."));return setTimeout(function(){a.removeProp("disabled").val(Careers._s("Search"))},3e3),t.find("input:submit").prop("disabled",!0),!1}),$(document).on("change","select#region",function(){$(this).parents("form").first().submit()})},w=function(){$(document).on("click","a.twitter",function(){return $(this).popupWindow({centerBrowser:1,width:600,height:360}),!1}),$(document).on("click","a.facebook",function(){return $(this).popupWindow({centerBrowser:1,width:680,height:360}),!1})},y=function(){$(document).on("submit","form.remove",function(){return window.confirm(Careers._s("This job listing will be expired immediately. Continue?"))})},k=function(){if(Careers.options.user.isAnonymous){var t,e=$("#fav-tip");$("a.fav-toggle").unbind("click").click(function(n){clearTimeout(t);var i=$(this);i.after(e),e.find("a").attr("href",Careers.__url("/users/login?returnurl="+i.attr("href"))),e.fadeIn("fast"),n.preventDefault(),n.stopPropagation(),t=setTimeout(e.fadeOut,8e3),$("body").unbind("click").click(function(){e.fadeOut("fast")}),n.preventDefault()}),$("a#close",e).click(function(t){e.fadeOut("fast"),t.preventDefault()})}},j=function(){$(document).on("click","#ask-something span.link",function(){$(".ui-dialog").remove(),$(".dialog").dialog({width:700,modal:!0,resizable:!1,position:{at:"center"}})}),$(document).on("click",".ui-dialog a.cancel",function(t){$(".dialog").dialog("close"),t.preventDefault()})},C=function(){$("#featured-company-page").length&&$.ajax({url:"undefined"==typeof GEO_IP?"/ad/featuredcompanyjs":"/ad/featuredcompanyjs?ip="+GEO_IP,dataType:"script",cache:!1})},T=function(){$(document).on("click",".careers-btn.apply",function(){Careers.GoogleAnalytics.sendEvent("apply","click","onsite")})},x=function(){$(document).on("content:load",function(){$("img[data-deferred-src]").each(function(){var t=$(this);t.attr("src",t.attr("data-deferred-src")).removeAttr("data-deferred-src").show()})})};return{init:function(){s(),l();var t=$(document.body).hasClass("mobile");return t?void r():(u(),d(),f(),h(),p(),m(),v(),g(),b(),w(),y(),k(),j(),C(),T(),x(),void $("#content").trigger("content:load"))}}}();